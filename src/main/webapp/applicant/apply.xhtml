<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Make an application</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <ui:include src="../fragments/header.xhtml"/>

        <h:panelGroup layout="block" class="is-normal">
            <label class="label">Add expertise and years with experience</label>
        </h:panelGroup>
        <h:form>
            <h:selectOneMenu class="field is-narrow" value="#{applicationCreator.expertise}">
                <label >Expertise:</label>
                <c:forEach items="#{applicationCreator.expertises}" var="expertise">
                    <f:selectItem  itemValue="#{expertise}" itemLabel="#{expertise}"/>
                </c:forEach>

            </h:selectOneMenu>
            Years:
            <h:inputText id="inputAmount"  value="#{applicationCreator.years}"/>
            <h:commandButton value="Add" action="#{applicationCreator.addYearsWithExpertise()}"/>
        </h:form>    





        <h3>Add availability period </h3>
        <h:form>
            Start date (d-M-yyyy):
            <h:inputText value="#{applicationCreator.startDate}">
                <f:convertDateTime pattern="d-M-yyyy" />
            </h:inputText>
            End date (d-M-yyyy):
            <h:inputText value="#{applicationCreator.endDate}">
                <f:convertDateTime pattern="d-M-yyyy" />
            </h:inputText>
            <h:commandButton value="Add" action="#{applicationCreator.addAvailabilityPeriod()}" />
        </h:form>   
        <hr></hr>
        <h3>Added expertises</h3>
        <c:forEach items="#{applicationCreator.yearswithExpertises}" var="yearsWiEx">
            <p>Expertise: #{yearsWiEx.expertise} Years: #{yearsWiEx.years}</p>
        </c:forEach>

        <hr></hr>
        <h3>Added availability periods</h3>
        <c:forEach items="#{applicationCreator.availiabilityPeriods}" var="availabilityPeriod">
            <p>Start date: #{availabilityPeriod.startdate} End date: #{availabilityPeriod.enddate}</p>
        </c:forEach>

        <h:form>
            <h:commandButton value="Send application" action="#{applicationCreator.sendApplication()}"/>
        </h:form>
        <!--        <h:form>
                    
                    <p>
                        <h:outputLabel for="inputAmount" value="Amount to convert "/>
                        <h:inputText id="inputAmount"  value="{conversionManager.amountToConvert}"  required="true"/>
                    </p>
                    <p>
                        From
                        <h:selectOneMenu value="{conversionManager.fromCurrName}">
        
                            <c:forEach items="{conversionManager.currencyList}" var="currency">
                                <f:selectItem  itemValue="#currency.currencyname}" itemLabel="{currency.currencyname}"/>
                            </c:forEach>
        
                        </h:selectOneMenu>
                    </p>
                    <p>
                        To
        
                        <h:selectOneMenu value="#conversionManager.toCurrName}">
        
                            <c:forEach items="#conversionManager.currencyList}" var="currency">
                                <f:selectItem  itemValue="#currency.currencyname}" itemLabel="#currency.currencyname}"/>
                            </c:forEach>
        
                        </h:selectOneMenu>       
        
        
                    </p>
                    <p>
                        <h:commandButton value="Convert" action="#conversionManager.convert()}"/>
                    </p>   
                    <p>
                        <h:outputLabel for="convertedAmount" value="Converted amount "/>
                        <h:outputText  id="convertedAmount" value="$conversionManager.convertedAmount}"/>
                    </p>
                </h:form>-->

    </h:body>
</html>
